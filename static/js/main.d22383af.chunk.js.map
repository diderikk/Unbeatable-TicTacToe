{"version":3,"sources":["minimax.js","index.js"],"names":["findWinner","board","i","emptySpaces","count","length","minimax","depth","isMaximizer","dataObj","player","bestIndex","winner","maxEval","Infinity","temp","slice","evaluation","bestMoves","push","index","randomInt","Math","floor","random","splice","minEval","require","MoveList","props","className","map","obj","Square","onClick","value","Buttons","buttonPlayerHandle","buttonFirstHandle","playFirst","buttonPlayAgainHandle","Board","state","Array","fill","renderSquare","bind","minmaxHandle","handleButton","this","setState","console","log","status","gamesCalculated","handlePlayButton","handlePlayAgainButton","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d22383af.chunk.js","sourcesContent":["export {findWinner, emptySpaces, minimax}\n\nfunction findWinner(board){\n    //Rows and columns\n    \n    for(let i = 0; i<3; i++){\n        if((board[i] === board[i+3] && board[i] === board[i+6]) && board[i]){return board[i];}\n        if((board[(i*3)] === board[(i*3)+1] && board[(i*3)] === board[(i*3)+2]) && board[i*3])return board[i*3];\n    }\n    //Diagonals\n    if((board[0] === board[4] && board[0] === board[8]) && board[0]) return board[0];\n    if((board[2] === board[4] && board[2] === board[6]) && board[2]) return board[2];\n\n    return null;\n}\n\nfunction emptySpaces(board){\n    let count = 0; \n    for(let i = 0; i<board.length; i++){\n        if(!board[i]) count++;\n    }\n    return count;\n}\n\nfunction minimax(board, depth, isMaximizer, dataObj, player){\n    let bestIndex = null;\n    let winner = findWinner(board);\n    let emptySpacesVar = emptySpaces(board);\n\n    if(emptySpacesVar === 0 || winner){\n        dataObj.count++;\n        \n        if(winner === player){\n            return -10 + depth;\n        }\n        else if(winner){\n            return 10 - depth;\n        }\n        else{\n            return 0;\n        }\n\n    }\n\n    if(isMaximizer){\n        let maxEval = -Infinity;\n        for(let i = 0; i<board.length; i++){\n            if(board[i]) continue;\n            let temp = board.slice();\n            temp[i] = (player === 'X')?'O':'X';\n            let evaluation = minimax(temp, depth+1, false, dataObj, player);\n            if(evaluation === maxEval && depth === 0){\n                dataObj.bestMoves.push({\n                    index: i,\n                    evaluation: evaluation\n                });\n            }\n            if(evaluation > maxEval){\n                maxEval = evaluation;\n                bestIndex = i;\n                if(depth === 0){\n                    dataObj.bestMoves = [];\n                    dataObj.bestMoves.push({\n                        index: i,\n                        evaluation: evaluation\n                    });\n                }\n            }\n        }\n        if(depth === 0) {\n            let randomInt = Math.floor(Math.random() * dataObj.bestMoves.length);\n            let indexObj = dataObj.bestMoves.splice(randomInt,1);\n            return indexObj[0].index;\n        };\n        return maxEval;\n    }\n    else{\n        let minEval = Infinity;\n        for(let i = 0; i<board.length; i++){\n            if(board[i]) continue;\n            let temp = board.slice();\n            temp[i] = (player === 'X')?'X':'O';\n            let evaluation = minimax(temp, depth+1, true, dataObj, player);\n            if(evaluation < minEval){\n                minEval = evaluation;\n                bestIndex = i;\n            }\n        }\n        if(depth === 0) return bestIndex;\n        return minEval;\n    }\n}","import React from \"react\";\nimport ReactDOM from 'react-dom';\nimport './index.css';\nconst minimax = require('./minimax');\n\nconst dataObj = {\n    count: 0,\n    bestMoves: []\n};\n\nconst MoveList = (props) => {\n    return (\n        <div className=\"moveList\">\n                                <p>Other moves {'({Index:Evaluation})'}: </p>\n                                <ul>\n                                    {dataObj.bestMoves.map(obj => \n                                    <li key={obj.index}>\n                                        {`{${obj.index}: ${obj.evaluation}}, `}\n                                    </li>)}\n                                </ul>\n                            </div>\n    )\n}\n\n\nconst Square = (props) => {\n    return (\n        <button className=\"square\" onClick={props.onClick}>\n            {props.value}\n        </button>\n    )\n}\n\nconst Buttons = (props) => {\n        return (\n            <div className=\"selectPlay\">\n                <button onClick={props.buttonPlayerHandle}>\n                    Switch to: {(props.player === 'X')?'O':'X'}\n                </button>\n                <button onClick={props.buttonFirstHandle}>\n                    {(props.playFirst)?'Play Second':'Play First'}\n                </button>\n                <button onClick={props.buttonPlayAgainHandle}>\n                    Play Again\n                </button>\n            </div>\n        )\n}\n\nclass Board extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            board: Array(9).fill(null),\n            player: 'X',\n            playFirst: false\n        }\n\n        this.renderSquare = this.renderSquare.bind(this);\n        this.minmaxHandle = this.minmaxHandle.bind(this);\n        this.handleButton = this.handleButton.bind(this);\n    }\n\n    handleButton(){\n        this.setState({\n            player: (this.state.player === 'X')?'O':'X',\n            board: Array(9).fill(null)\n        });\n        dataObj.count = 0; \n    }\n\n    handlePlayButton(){\n        this.setState({\n            playFirst: !this.state.playFirst,\n            board: Array(9).fill(null)\n        });\n        dataObj.count = 0;\n    }\n\n    handlePlayAgainButton(){\n        this.setState({\n            board: Array(9).fill(null)\n        });\n        dataObj.count = 0;\n    }\n\n    minmaxHandle(i){\n        dataObj.count = 0;\n        let temp = this.state.board.slice();\n        if(minimax.findWinner(temp) || temp[i]){\n            return;\n        }\n        temp[i] = this.state.player;\n        let index = minimax.minimax(temp,0,true,dataObj,this.state.player);\n        if(minimax.emptySpaces(temp) !== 0){\n            temp[index] = (this.state.player === 'X')?'O':'X';\n            console.log(dataObj.bestMoves);\n        }\n        this.setState({\n            board: temp\n        });\n    }\n\n    renderSquare(i){\n        return (    \n            <Square value={this.state.board[i]} \n            onClick={() => this.minmaxHandle(i)\n            } />\n        )\n    }\n    \n    render() {  \n        let winner = minimax.findWinner(this.state.board);\n        let status = <h2>Next move: <h1>{(this.state.player === 'X')?\"X\":\"O\"}</h1></h2>;\n        if(winner) status = <h2>Winner: <h1>{winner}</h1></h2>;\n        else if(minimax.emptySpaces(this.state.board) === 0) status = <h1>Stalemate</h1>;\n\n        let gamesCalculated = <p>Games computed: {dataObj.count}</p>\n\n        if(!this.state.playFirst && minimax.emptySpaces(this.state.board) === 9){\n            let temp = this.state.board.slice();\n            let index = minimax.minimax(temp,0,true,dataObj,this.state.player);\n            temp[index] = (this.state.player === 'X')?'O':'X';\n            this.setState({\n                board: temp\n            });\n        }\n\n        return(\n            <div className=\"container\">\n                <Buttons \n                    player={this.state.player} \n                    playFirst={this.state.playFirst}\n                    buttonPlayerHandle={() => this.handleButton()} \n                    buttonFirstHandle={() => this.handlePlayButton()}\n                    buttonPlayAgainHandle={() => this.handlePlayAgainButton()}\n                    />\n                <div className=\"board\">\n                    <div className=\"status\">{status}</div>\n                    <div className=\"row\">\n                        {this.renderSquare(0)}\n                        {this.renderSquare(1)}\n                        {this.renderSquare(2)}\n                    </div>\n                    <div className=\"row\">\n                        {this.renderSquare(3)}\n                        {this.renderSquare(4)}\n                        {this.renderSquare(5)}\n                    </div>\n                    <div className=\"row\">\n                        {this.renderSquare(6)}\n                        {this.renderSquare(7)}\n                        {this.renderSquare(8)}\n                    </div>\n                    <footer>\n                        <hr />\n                        <div className=\"footerContainer\">\n                            <div className=\"gc\">{gamesCalculated}</div>\n                            <MoveList />\n                        </div>\n                    </footer>\n                </div>\n            </div>\n        )\n    }\n}\n\nReactDOM.render(<Board />, document.getElementById('root'));\n\n\n\n\n\n\n\n\n\n\n\n\n"],"sourceRoot":""}